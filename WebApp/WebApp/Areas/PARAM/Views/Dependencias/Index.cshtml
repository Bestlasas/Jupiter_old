@{
    var viewName = System.IO.Path.GetFileNameWithoutExtension(Path);
    ViewBag.Tittle = "Dependencias";
    ViewBag.IconTittle = "fa fa-user";
}

<div id="@viewName">
    <!-- Scripts -->
    <script src="@Url.Content(App.Utils.Utils.GetJsFilePath(Path))"></script>
    <!-- Plantilla que se utilizará en la columna de acciones de la grilla -->
    <script id="actionTemplate" type="text/x-kendo-template">
        <div class='text-center'>
            <a class='btn btn-primary' data-modal="modal-xl" href='@Url.Action("UpdDependencia", "Dependencias", new { area = "PARAM" })/#=data.Id#'>Editar</a>
        </div>
    </script>


    <div class="container-fluid ">

        <div class="card">
            <div class="card-header">
                <div class="h5 m-0">
                    Listado de dependencias 
                    <label class="float-right mt-0 mb-0">
                        <a id="btnNuevo" class='btn btn-primary' data-modal="modal-xl" href='@Url.Action("UpdDependencia", "Dependencias", new { area = "PARAM" })'>Agregar dependencia</a>
                        <a id="btnSubDependencia" style="display:none" class='btn btn-primary' data-modal="modal-xl">Agregar subdependencia </a>
                        <a id="btnUpdDependencia" style="display:none" class='btn btn-primary' data-modal="modal-xl">Editar dependencia </a>
                        <a id="btnDelDependencia" style="display:none" class='btn btn-danger'  onclick='Index.removeRow()'>Eliminar subdependencia </a>
                    </label>
                </div>

            </div>
            <div class="card-body">
                @(Html.Kendo().TreeView()
                    .Name("treeview")
                    .DataTextField("Codigo")
                    .Events(events => events
                        .Select("Index.onSelect")
                        
                    )
                    .DataSource(dataSource => dataSource
                                
                                .Read(read => read.Action("GetListDependencias", "Dependencias"))
                                .Events(e => e.Error("Site.handleError"))
                            )
                )
                
            </div>
        </div>
    </div>
    <!-- Inicializadores -->
    <script>
        $(function () {
            @(viewName).init();
        });

    </script>
</div>
